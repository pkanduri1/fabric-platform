spring.application.name=fabric-platform
server.port=8080

# Allow bean definition overriding to resolve transaction manager conflicts
spring.main.allow-bean-definition-overriding=true
spring.main.allow-circular-references=true

# Disable autoconfiguration for problematic components  
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\
  org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration,\
  org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration,\
  org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration,\
  org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration,\
  org.springframework.boot.autoconfigure.ldap.LdapAutoConfiguration,\
  org.springframework.boot.autoconfigure.security.ldap.LdapRepositoriesAutoConfiguration,\
  org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration,\
  org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration

# WebSocket components temporarily disabled via class-level commenting

# Oracle database configuration
spring.datasource.url=${DB_URL:jdbc:oracle:thin:@localhost:1521/ORCLPDB1}
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
spring.datasource.username=${DB_USERNAME:cm3int}
spring.datasource.password=${DB_PASSWORD:MySecurePass123}

# JDBC configuration for Oracle
# Using JdbcTemplate for direct database access without ORM overhead

# Basic web configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# WebSocket configuration
fabric.monitoring.websocket.allowed-origins=http://localhost:3000,http://localhost:8080
fabric.monitoring.websocket.development-mode=true
fabric.monitoring.websocket.debug-logging=true

# Swagger/OpenAPI
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.tryItOutEnabled=true

# Disable LDAP and Redis for demo purposes
fabric.security.ldap.enabled=false
fabric.security.redis.enabled=false

# Liquibase Configuration for Enterprise Database Change Management
spring.liquibase.enabled=false
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml
spring.liquibase.contexts=development,test
spring.liquibase.drop-first=false

# Logging
logging.level.com.truist.batch=INFO
logging.level.org.springframework.web.socket=DEBUG
logging.level.liquibase=INFO
logging.level.liquibase.sql=DEBUG